"0","if(keep_time) tic(""filter and glom samples"")"
"0","# first prune objects with less than min_seqs sequences"
"0","physeq_list_0  <- physeq_list"
"0","# create first step of the filtering report"
"0","filtering_report <- vector(""list"", length = length(physeq_list))"
"0","filtering_report_0 <- map(physeq_list, report_step_0)"
"0","for(i in seq_along(physeq_list)){"
"0","  cat(""processing "", i, "" of "", length(physeq_list), ""\n"")"
"0","  # set plot_ecdf=F for faster execution"
"0","  physeq_list_0[[i]] <- prune_samples_by_size(physeq_list[[i]],"
"0","                                              names(physeq_list)[i], "
"0","                                              plot_ecdf = F, "
"0","                                              minseqs = min_seqs)"
"0","}"
"1","processing "
"1"," "
"1","1"
"1"," "
"1"," of "
"1"," "
"1","5"
"1"," "
"1","
"
"1","processing "
"1"," "
"1","2"
"1"," "
"1"," of "
"1"," "
"1","5"
"1"," "
"1","
"
"1","processing "
"1"," "
"1","3"
"1"," "
"1"," of "
"1"," "
"1","5"
"1"," "
"1","
"
"1","processing "
"1"," "
"1","4"
"1"," "
"1"," of "
"1"," "
"1","5"
"1"," "
"1","
"
"1","processing "
"1"," "
"1","5"
"1"," "
"1"," of "
"1"," "
"1","5"
"1"," "
"1","
"
"0","cat(""...done pruning samples...\n"")"
"1","...done pruning samples...
"
"0","# now recheck if all objects have enough samples"
"0","physeq_list_1 <- rem_low_sample_obj(physeq_list_0, ms = min_samples)"
"0","# create second step of the filtering report"
"0","stage_name = ""prune samples"""
"0","for(i in seq_along(physeq_list_0)){"
"0","  if(names(physeq_list_0)[i] %in% names(physeq_list_1)){"
"0","    name <- names(physeq_list_0)[i]"
"0","    stage <- report_step_n(my_physeq = physeq_list_1[[name]], "
"0","                           my_physeq_o = physeq_list_0[[i]], "
"0","                           stage_name = stage_name) "
"0","  } else {"
"0","    stage <- c(stage_name,"
"0","              samples = NA_real_,"
"0","              sequences = NA_real_,"
"0","              taxa = NA_real_,"
"0","              prop_samples = NA_real_,"
"0","              prop_seq = NA_real_,"
"0","              prop_taxa = NA_real_)"
"0","  }"
"0","  filtering_report[[i]] <- rbind(stage_0 = as.character(filtering_report_0[[i]]), stage_1 =stage)"
"0","  names(filtering_report)[i] <- names(physeq_list_0)[i]"
"0","}"
"0",""
"0",""
"0","if(verbose_output) print(filtering_report)"
"1","$ST106_FMBN_ps
"
"1","       "
"1"," stage          "
"1"," samples"
"1"," sequences"
"1"," taxa"
"1"," prop_samples"
"1"," prop_seq"
"1"," prop_taxa"
"1","
stage_0"
"1"," ""original""     "
"1"," ""30""   "
"1"," ""128735"" "
"1"," ""56"""
"1"," ""1""         "
"1"," ""1""     "
"1"," ""1""      "
"1","
stage_1"
"1"," ""prune samples"""
"1"," ""30""   "
"1"," ""128735"" "
"1"," ""56"""
"1"," ""1""         "
"1"," ""1""     "
"1"," ""1""      "
"1","
"
"1","
"
"1","$ST110_FMBN_ps
"
"1","       "
"1"," stage          "
"1"," samples"
"1"," sequences"
"1"," taxa"
"1"," prop_samples"
"1"," prop_seq"
"1"," prop_taxa"
"1","
stage_0"
"1"," ""original""     "
"1"," ""112""  "
"1"," ""2056840"""
"1"," ""90"""
"1"," ""1""         "
"1"," ""1""     "
"1"," ""1""      "
"1","
stage_1"
"1"," ""prune samples"""
"1"," ""112""  "
"1"," ""2056840"""
"1"," ""90"""
"1"," ""1""         "
"1"," ""1""     "
"1"," ""1""      "
"1","
"
"1","
"
"1","$ST115_FMBN_ps
"
"1","       "
"1"," stage          "
"1"," samples"
"1"," sequences"
"1"," taxa"
"1"," prop_samples"
"1"," prop_seq"
"1"," prop_taxa"
"1","
stage_0"
"1"," ""original""     "
"1"," ""63""   "
"1"," ""2346838"""
"1"," ""45"""
"1"," ""1""         "
"1"," ""1""     "
"1"," ""1""      "
"1","
stage_1"
"1"," ""prune samples"""
"1"," ""63""   "
"1"," ""2346838"""
"1"," ""45"""
"1"," ""1""         "
"1"," ""1""     "
"1"," ""1""      "
"1","
"
"1","
"
"1","$ST131_FMBN_ps
"
"1","       "
"1"," stage          "
"1"," samples"
"1"," sequences"
"1"," taxa "
"1"," prop_samples"
"1"," prop_seq"
"1"," prop_taxa"
"1","
stage_0"
"1"," ""original""     "
"1"," ""108""  "
"1"," ""734976"" "
"1"," ""302"""
"1"," ""1""         "
"1"," ""1""     "
"1"," ""1""      "
"1","
stage_1"
"1"," ""prune samples"""
"1"," ""107""  "
"1"," ""734493"" "
"1"," ""302"""
"1"," ""1""         "
"1"," ""1""     "
"1"," ""1""      "
"1","
"
"1","
"
"1","$ST136_FMBN_ps
"
"1","       "
"1"," stage          "
"1"," samples"
"1"," sequences"
"1"," taxa"
"1"," prop_samples"
"1"," prop_seq"
"1"," prop_taxa"
"1","
stage_0"
"1"," ""original""     "
"1"," ""47""   "
"1"," ""2759593"""
"1"," ""60"""
"1"," ""1""         "
"1"," ""1""     "
"1"," ""1""      "
"1","
stage_1"
"1"," ""prune samples"""
"1"," ""47""   "
"1"," ""2759593"""
"1"," ""60"""
"1"," ""1""         "
"1"," ""1""     "
"1"," ""1""      "
"1","
"
"1","
"
"0","if(play_audio) beep(sound = 6)"
"0","if(keep_time) toc()"
"1","filter and glom samples: 0.513 sec elapsed
"
